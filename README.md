# My Campus Navigator - 校園導航遊戲

一個使用 React + TypeScript + Zustand 開發的等距視角校園探索遊戲。

## 專案狀態

✅ **已完成項目**

### 1. 專案架構 (100%)
- ✅ Vite + React + TypeScript 專案初始化
- ✅ 資料夾結構建立
- ✅ ESLint、Prettier、Tailwind CSS 配置
- ✅ TypeScript 路徑別名配置

### 2. 資料模型 (100%)
- ✅ Position - 位置介面（網格座標、等距座標）
- ✅ MapPosition - 地圖格子類型
- ✅ Place - 地點介面（圖書館、餐廳、運動中心等）
- ✅ Event - 活動介面（8 種活動類型）
- ✅ Player - 玩家介面
- ✅ CampusMap - 校園地圖介面
- ✅ GameState - 遊戲狀態介面

### 3. 核心功能 (100%)
- ✅ IsometricTransform - 等距座標轉換工具
- ✅ PathFinding - BFS 尋路與連通性驗證
- ✅ MapGenerator - 隨機地圖生成演算法
  - 初始化網格（邊界設定）
  - 隨機放置地點（保持最小距離）
  - 生成障礙物
  - 設定起始點
  - BFS 連通性驗證與修復
  - 隨機生成活動

### 4. 狀態管理 (100%)
- ✅ Zustand Store - 全局遊戲狀態管理
  - 遊戲狀態（主選單、遊戲中、暫停、完成）
  - 地圖管理
  - 玩家管理
  - 對話框系統
  - 設定管理

### 5. 使用者介面 (50%)
- ✅ 主選單畫面
- ✅ 遊戲畫面（文字版地圖）
- ✅ 地圖資訊面板
- ✅ 地點列表顯示
- ⏳ Canvas 等距渲染（待實作）
- ⏳ 鍵盤控制（待實作）
- ⏳ 對話框組件（待實作）

## 技術棧

- **前端框架**: React 18.3
- **建置工具**: Vite 5.1
- **程式語言**: TypeScript 5.3
- **狀態管理**: Zustand 4.5
- **樣式方案**: Tailwind CSS 3.4
- **工具函式**: UUID
- **測試框架**: Vitest（已配置）

## 專案結構

```
src/
├── components/       # React 組件
│   ├── ui/          # UI 基礎組件
│   └── game/        # 遊戲專用組件
├── core/            # 核心邏輯
│   ├── IsometricTransform.ts  # 等距座標轉換
│   ├── MapGenerator.ts        # 地圖生成器
│   └── PathFinding.ts         # 尋路演算法
├── models/          # TypeScript 資料模型
│   ├── Position.ts
│   ├── MapPosition.ts
│   ├── Place.ts
│   ├── Event.ts
│   ├── Player.ts
│   ├── CampusMap.ts
│   ├── GameState.ts
│   └── index.ts
├── stores/          # Zustand 狀態管理
│   └── gameStore.ts
├── utils/           # 工具函式
├── constants/       # 常數定義
├── hooks/           # 自定義 React Hooks
└── test/            # 測試檔案
```

## 如何運行

### 開發模式
```powershell
npm run dev
```

### 建置生產版本
```powershell
npm run build
```

### 預覽生產版本
```powershell
npm run preview
```

### 執行測試
```powershell
npm run test
```

### 程式碼檢查
```powershell
npm run lint
npm run format
```

## 當前功能

1. **隨機地圖生成**
   - 18x18 網格地圖
   - 隨機放置 5 種類型的地點（圖書館、餐廳、運動中心、演講廳、活動中心）
   - 隨機生成障礙物（15% 覆蓋率）
   - 保證所有地點可達（BFS 連通性驗證）

2. **地點系統**
   - 5 種地點類型，每種有特定的活動類型
   - 每個地點包含 1-3 個隨機活動
   - 地點訪問狀態追蹤

3. **活動系統**
   - 8 種活動類型（社團活動、學術講座、運動比賽、文化節慶、工作坊、音樂會、展覽、研討會）
   - 活動完成後獲得分數
   - 活動完成狀態追蹤

4. **玩家系統**
   - 移動計數
   - 分數系統
   - 訪問記錄
   - 路徑歷史

## 下一步開發計畫

### 短期目標（第 1-2 週）
1. **Canvas 渲染引擎**
   - 實作等距瓦片渲染
   - 地圖縮放和平移
   - 玩家角色動畫
   - 地點標記顯示

2. **互動系統**
   - 鍵盤控制（WASD / 方向鍵）
   - 滑鼠點擊移動
   - 地點互動對話框
   - 活動選擇界面

3. **UI/UX 優化**
   - 對話框組件
   - 小地圖
   - HUD（血量、分數、時間）
   - 動畫效果

### 中期目標（第 3-4 週）
1. **進階功能**
   - 儲存/讀取遊戲
   - 高分排行榜
   - 成就系統
   - 音效與音樂

2. **遊戲玩法**
   - 時間限制模式
   - 任務系統
   - NPC 角色
   - 隨機事件

### 長期目標（第 5+ 週）
1. **視覺優化**
   - 瓦片貼圖
   - 粒子效果
   - 天氣系統
   - 日夜循環

2. **擴展內容**
   - 多個校園地圖
   - 更多地點類型
   - 劇情模式
   - 多人模式（可選）

## 測試地圖生成

運行 `npm run dev` 後：
1. 點擊「開始遊戲」按鈕
2. 查看自動生成的隨機地圖（文字版）
3. 點擊地圖上的位置來測試移動功能
4. 右側面板顯示地點列表和統計資訊

## 技術亮點

1. **完整的 TypeScript 類型系統**
   - 所有資料結構都有完整的型別定義
   - 嚴格的編譯檢查
   - 優秀的 IDE 支援

2. **模組化架構**
   - 清晰的職責分離
   - 可重用的核心功能
   - 易於擴展和維護

3. **智能地圖生成**
   - BFS 連通性驗證
   - 自動修復不連通區域
   - 保證遊戲可玩性

4. **Zustand 狀態管理**
   - 輕量級、高效能
   - 簡潔的 API
   - 優秀的 TypeScript 支援

## 授權

本專案為教育用途開發。

## 聯絡方式

如有問題或建議，請聯繫開發團隊。
